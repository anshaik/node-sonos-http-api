'use strict';
var requireFu = require('require-fu');
var services = {};

requireFu(__dirname + '/services')(services);

function getServiceId(uri) {
  if (/sid=(\d+)/.test(uri)) {
    return RegExp.$1;
  }
}

function tryGetHighResArt(uri) {
  var serviceId = getServiceId(uri);

  if (!services[serviceId]) {
    return Promise.reject('No such service');
  }

  var service = services[serviceId];

  return service.tryGetHighResArt(uri);

}

/*module.exports = {
  tryGetHighResArt
};*/
